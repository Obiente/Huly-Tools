---
// Status.astro: Reusable status badge component
// Props: status (string), variant (success, warning, danger, info)
const { status, variant } = Astro.props;

const getVariantFromStatus = (status) => {
  const lowerStatus = status.toLowerCase();
  if (lowerStatus.includes('completed') || lowerStatus.includes('done')) return 'success';
  if (lowerStatus.includes('progress') || lowerStatus.includes('active')) return 'warning';
  if (lowerStatus.includes('blocked') || lowerStatus.includes('error')) return 'danger';
  return 'info';
};

const finalVariant = variant || getVariantFromStatus(status);

const variantClasses = {
  success: 'bg-green-100 text-green-800',
  warning: 'bg-yellow-100 text-yellow-800',
  danger: 'bg-red-100 text-red-800',
  info: 'bg-blue-100 text-blue-800'
};

const classes = `px-2 py-1 rounded-full text-xs font-medium ${variantClasses[finalVariant]}`;
---
<span class={classes}>{status}</span>
